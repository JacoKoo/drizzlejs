{"version":3,"file":"bundle.js","sources":["../scripts/examples/hello-world.js","../scripts/examples/bind-group.js","../scripts/app/component/ace-editor.js"],"sourcesContent":["const index = `#! drizzle\n\nmodule(name) > view-a(name)\n\nscript..\nexport default {\n    items: { views: ['view-a'] },\n    store: {\n        models: {\n            name: () => ''\n        }\n    }\n}\n`\n\nconst view = `#! drizzle\n\nview\n    input.input(bind:value=name)\n    h3 hello $name !\n\nscript..\nexport default {\n}\n`\n\nconst json = `{\n    \"name\": \"world\"\n}`\n\nexport default {\n    code: 'hello-world',\n    name: 'Hello World',\n    files: {index, 'view-a': view},\n    json,\n}\n","const index = `#! drizzle\n\nmodule(names) > view-a(names)\n\nscript..\nexport default {\n    items: { views: ['view-a'] },\n    store: {\n        models: {\n            names: () => []\n        }\n    }\n}\n`\n\nconst view = `#! drizzle\n\nview\n    .control\n        label(class='checkbox')\n            input(type='checkbox' bind:group=names value='a')\n            | A checked\n        label(class='checkbox')\n            input(type='checkbox' bind:group=names value='b')\n            | B checked\n        label(class='checkbox')\n            input(type='checkbox' bind:group=names value='c')\n            | C checked\n\n    h3 hello $names !\n\nscript..\nexport default {\n}\n`\n\nconst json = `{\n    \"names\": [\"a\", \"b\", \"c\"]\n}`\n\nexport default {\n    code: 'bind-group',\n    name: 'Group binding',\n    files: {index, 'view-a': view},\n    json,\n}\n","\nfunction delay (fn, time) {\n    let timeout\n    return () => {\n        clearTimeout(timeout)\n        timeout = setTimeout(fn, time)\n    }\n}\n\nexport function editor(node, options = {}, code) {\n    const editor = ace.edit(node, options)\n    let current = code\n    editor.setValue(code, -1)\n\n    let busy = false\n    const handler = delay((e) => {\n        if (busy) return\n        current = editor.getValue()\n        node.dispatchEvent(new CustomEvent('codeChange', {detail: current}))\n    }, 1)\n\n    editor.on('change', handler)\n\n    return {\n        update (options, code) {\n            console.log(code === current)\n            if (code === current) return\n            busy = true\n            current = code\n            editor.setValue(code, -1)\n            busy = false\n        },\n\n        dispose () {\n            editor.destroy()\n        }\n    }\n}\n"],"names":["index","view","json","code","name","files","delay","fn","time","timeout","clearTimeout","setTimeout","editor","node","options","ace","edit","current","setValue","busy","handler","e","getValue","dispatchEvent","CustomEvent","detail","on","update","console","log","dispose","destroy"],"mappings":"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"}